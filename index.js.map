{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/storage.js","../src/img/javascript.svg","../src/main.js"],"sourcesContent":["export const refs={\n    form: document.querySelector(\".login-form\"),\n    email: document.querySelector(\"[name='email']\"),\n    password: document.querySelector(\"[name='password']\"),\n    button: document.querySelector(\"[name='button']\"),\n}\n","export function saveData(key, data) {\n  localStorage.setItem(key, JSON.stringify(data));\n}\nexport function getData(key) {\n  const data = localStorage.getItem(key);\n  return data ? JSON.parse(data) : null;\n  //   if (data) {\n  //     return JSON.parse(data);\n  //   }\n  //   return null;\n}\nexport function clearData(key) {\n  localStorage.removeItem(key);\n}\n","export default \"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20aria-hidden='true'%20role='img'%20class='iconify%20iconify--logos'%20width='32'%20height='32'%20preserveAspectRatio='xMidYMid%20meet'%20viewBox='0%200%20256%20256'%3e%3cpath%20fill='%23F7DF1E'%20d='M0%200h256v256H0V0Z'%3e%3c/path%3e%3cpath%20d='m67.312%20213.932l19.59-11.856c3.78%206.701%207.218%2012.371%2015.465%2012.371c7.905%200%2012.89-3.092%2012.89-15.12v-81.798h24.057v82.138c0%2024.917-14.606%2036.259-35.916%2036.259c-19.245%200-30.416-9.967-36.087-21.996m85.07-2.576l19.588-11.341c5.157%208.421%2011.859%2014.607%2023.715%2014.607c9.969%200%2016.325-4.984%2016.325-11.858c0-8.248-6.53-11.17-17.528-15.98l-6.013-2.58c-17.357-7.387-28.87-16.667-28.87-36.257c0-18.044%2013.747-31.792%2035.228-31.792c15.294%200%2026.292%205.328%2034.196%2019.247l-18.732%2012.03c-4.125-7.389-8.591-10.31-15.465-10.31c-7.046%200-11.514%204.468-11.514%2010.31c0%207.217%204.468%2010.14%2014.778%2014.608l6.014%202.577c20.45%208.765%2031.963%2017.7%2031.963%2037.804c0%2021.654-17.012%2033.51-39.867%2033.51c-22.339%200-36.774-10.654-43.819-24.574'%3e%3c/path%3e%3c/svg%3e\"","// Перед вами форма для авторизації на сайті (правильні дані для входу збережені в обʼєкті USER_DATA)\n\n// Розбийте код на кілька файлів:\n// storage.js - функції для роботи зі сховищем;\n// refs.js - посилання на всі потрібні елементи в html;\n// main.js - головний файл, де вся основна логіка додатка.\n// Ви маєте додати перевірку введених даних при сабміті:\n// Якщо введені дані не збігаються зі збереженими, викликайте аlert і\n// повідомляйте про помилку.\n\n// Якщо імейл і пароль користувача збігаються, зберігайте дані з форми\n// у локальне сховище і змінюйте кнопку Login на Logout, також робіть поля введення\n// недоступними для змін.\n// При перезавантаженні сторінки, якщо користувач авторизован, ми маємо бачити logout-кнопку\n// та недоступні для зміни поля з даними користувача.\n// Клік по кнопці logout повертає все до початкового вигляду і видаляє дані користувача\n// з локального сховища.\n//import \"./js/modul-10\";\nimport iziToast from 'izitoast';\nimport { refs } from './js/refs';\nimport { saveData, getData, clearData } from './js/storage';\n\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport iconError from './img/javascript.svg';\n\nconst LS_KEY = 'user-data';\nconst USER_DATA = {\n  email: 'user@mail.com',\n  password: 'secret',\n};\nconst userData = getData(LS_KEY);\nif (userData) {\n  refs.email.value = userData.email ?? '';\n  refs.password.value = userData.password ?? '';\n  refs.button.textContent = 'Logout';\n  refs.email.setAttribute('readonly', true);\n  refs.password.setAttribute('readonly', true);\n}\n\nconst onFormSubmit = event => {\n  event.preventDefault();\n  const emailValue = refs.email.value.trim();\n  const passwordValue = refs.password.value.trim();\n\n  if (refs.button.textContent === 'Logout') {\n    clearData(LS_KEY);\n    refs.form.reset();\n    refs.email.removeAttribute('readonly');\n    refs.password.removeAttribute('readonly');\n    refs.button.textContent = 'Login';\n    return;\n  }\n\n  if (emailValue === '' || passwordValue === '') {\n    iziToast.warning({\n      message: 'Fill all fields',\n      iconUrl: iconError,\n      position: 'topLeft',\n    });\n    return;\n  }\n  if (emailValue !== USER_DATA.email || passwordValue !== USER_DATA.password) {\n    iziToast.error({\n      message: 'Incorrect Data',\n      iconUrl: iconError,\n      position: 'topRight',\n    });\n    return;\n  }\n\n  saveData(LS_KEY, { email: emailValue, password: passwordValue });\n  refs.button.textContent = 'Logout';\n  refs.email.setAttribute('readonly', true);\n  refs.password.setAttribute('readonly', true);\n};\n\nrefs.form.addEventListener('submit', onFormSubmit);\n"],"names":["refs","saveData","key","data","getData","clearData","iconError","LS_KEY","USER_DATA","userData","onFormSubmit","event","emailValue","passwordValue","iziToast"],"mappings":"oFAAO,MAAMA,EAAK,CACd,KAAM,SAAS,cAAc,aAAa,EAC1C,MAAO,SAAS,cAAc,gBAAgB,EAC9C,SAAU,SAAS,cAAc,mBAAmB,EACpD,OAAQ,SAAS,cAAc,iBAAiB,CACpD,ECLO,SAASC,EAASC,EAAKC,EAAM,CAClC,aAAa,QAAQD,EAAK,KAAK,UAAUC,CAAI,CAAC,CAChD,CACO,SAASC,EAAQF,EAAK,CAC3B,MAAMC,EAAO,aAAa,QAAQD,CAAG,EACrC,OAAOC,EAAO,KAAK,MAAMA,CAAI,EAAI,IAKnC,CACO,SAASE,EAAUH,EAAK,CAC7B,aAAa,WAAWA,CAAG,CAC7B,CCbA,MAAeI,EAAA,qpCC0BTC,EAAS,YACTC,EAAY,CAChB,MAAO,gBACP,SAAU,QACZ,EACMC,EAAWL,EAAQG,CAAM,EAC3BE,IACFT,EAAK,MAAM,MAAQS,EAAS,OAAS,GACrCT,EAAK,SAAS,MAAQS,EAAS,UAAY,GAC3CT,EAAK,OAAO,YAAc,SAC1BA,EAAK,MAAM,aAAa,WAAY,EAAI,EACxCA,EAAK,SAAS,aAAa,WAAY,EAAI,GAG7C,MAAMU,EAAeC,GAAS,CAC5BA,EAAM,eAAc,EACpB,MAAMC,EAAaZ,EAAK,MAAM,MAAM,KAAI,EAClCa,EAAgBb,EAAK,SAAS,MAAM,KAAI,EAE9C,GAAIA,EAAK,OAAO,cAAgB,SAAU,CACxCK,EAAUE,CAAM,EAChBP,EAAK,KAAK,QACVA,EAAK,MAAM,gBAAgB,UAAU,EACrCA,EAAK,SAAS,gBAAgB,UAAU,EACxCA,EAAK,OAAO,YAAc,QAC1B,MACD,CAED,GAAIY,IAAe,IAAMC,IAAkB,GAAI,CAC7CC,EAAS,QAAQ,CACf,QAAS,kBACT,QAASR,EACT,SAAU,SAChB,CAAK,EACD,MACD,CACD,GAAIM,IAAeJ,EAAU,OAASK,IAAkBL,EAAU,SAAU,CAC1EM,EAAS,MAAM,CACb,QAAS,iBACT,QAASR,EACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDL,EAASM,EAAQ,CAAE,MAAOK,EAAY,SAAUC,CAAa,CAAE,EAC/Db,EAAK,OAAO,YAAc,SAC1BA,EAAK,MAAM,aAAa,WAAY,EAAI,EACxCA,EAAK,SAAS,aAAa,WAAY,EAAI,CAC7C,EAEAA,EAAK,KAAK,iBAAiB,SAAUU,CAAY"}